/fin/project:
  post:
    tags:
      - Projects
    summary: Create Project
    description: Create a new project with initial upload data
    operationId: createProject
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: "../schemas/project-schemas.yaml#/CreateProjectRequest"
          examples:
            valid:
              summary: Valid request
              value:
                project_name: "First Project"
                project_description: "OUR first project (OPTIONAL)"
                icon: "user (OPTIONAL)"
                color: "teal (OPTIONAL)"
            minimal:
              summary: Minimal request (without description)
              value:
                project_name: "First Project"
    responses:
      "201":
        description: Project created successfully
        content:
          application/json:
            schema:
              $ref: "../schemas/project-schemas.yaml#/ProjectResponse"
            example:
              message: "Successfully created finance project"
              project_id: "339cf69c-f60a-4c6c-8789-70e2664fd0a0"
              project_name: "First Project"
              project_description: "OUR first project"
              project_icon: "user"
              project_color: "teal"
              created_at: "2025-12-12T07:59:20.560051"
              updated_at: "2025-12-12T07:59:20.560058"
      "400":
        description: Bad request - validation errors
        content:
          application/json:
            schema:
              $ref: "../schemas/common-schemas.yaml#/ErrorResponse"
            examples:
              missing_json:
                summary: Missing JSON body
                value:
                  error: "Missing JSON body"
              missing_project_name:
                summary: Missing project_name field
                value:
                  error: "Missing project name"
              invalid_project_name_type:
                summary: Invalid project_name type (not string)
                value:
                  error: "Invalid project_name format"
              project_name_too_short:
                summary: Project name less than 3 characters
                value:
                  error: "Project name must be more than 3 characters"
              project_name_too_long:
                summary: Project name exceeds 100 characters
                value:
                  error: "Project name must be less than or equal to 100 characters"
              invalid_description_type:
                summary: Invalid project_description type (not string)
                value:
                  error: "Invalid project_description format"
      "404":
        description: User not found or not authenticated
        content:
          application/json:
            schema:
              $ref: "../schemas/common-schemas.yaml#/ErrorResponse"
            example:
              error: "User not authenticated"
      "500":
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: "../schemas/common-schemas.yaml#/ErrorResponse"
            example:
              error: "Internal Server Error"

/fin/projects:
  get:
    tags:
      - Projects
    summary: Get All User Projects
    description: Get all projects belonging to the authenticated user
    operationId: listUserProjects
    responses:
      "200":
        description: List of user projects retrieved successfully
        content:
          application/json:
            schema:
              $ref: "../schemas/project-schemas.yaml#/ProjectListResponse"
            example:
              message: "Successfully fetched all finance projects"
              total_projects: 2
              projects:
                - project_id: "339cf69c-f60a-4c6c-8789-70e2664fd0a0"
                  project_name: "First Project"
                  project_description: "OUR first project"
                  project_icon: "user"
                  project_color: "teal"
                  created_at: "2025-12-12T07:59:20.560051"
                  updated_at: "2025-12-12T07:59:20.560058"
                - project_id: "440dg70d-g71b-5d7d-b890-81f3775ge1b1"
                  project_name: "Second Project"
                  project_description: "Another project"
                  project_icon: "folder"
                  project_color: "blue"
                  created_at: "2025-12-12T08:30:15.123456"
                  updated_at: "2025-12-12T08:30:15.123456"
      "500":
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: "../schemas/common-schemas.yaml#/ErrorResponse"
            example:
              error: "Internal Server Error"

/fin/project/{project_id}:
  get:
    tags:
      - Projects
    summary: Get Project by Project ID
    description: Retrieve a specific project by its unique identifier
    operationId: getProject
    parameters:
      - name: project_id
        in: path
        required: true
        description: Unique project identifier (UUID format)
        schema:
          type: string
          format: uuid
        example: "339cf69c-f60a-4c6c-8789-70e2664fd0a0"
    responses:
      "200":
        description: Project details retrieved successfully
        content:
          application/json:
            schema:
              $ref: "../schemas/project-schemas.yaml#/ProjectDetailResponse"
            example:
              message: "Successfully fetched finance project"
              project_id: "339cf69c-f60a-4c6c-8789-70e2664fd0a0"
              project:
                project_name: "First Project"
                project_description: "OUR first project"
                project_icon: "user"
                project_color: "teal"
                created_at: "2025-12-12T07:59:20.560051"
                updated_at: "2025-12-12T07:59:20.560058"
      "400":
        description: Invalid project_id format (not a valid UUID)
        content:
          application/json:
            schema:
              $ref: "../schemas/common-schemas.yaml#/ErrorResponse"
            example:
              error: "Invalid project_id format"
      "404":
        description: Project not found or user not authorized
        content:
          application/json:
            schema:
              $ref: "../schemas/common-schemas.yaml#/ErrorResponse"
            example:
              error: "Finance Project Not Found"
      "500":
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: "../schemas/common-schemas.yaml#/ErrorResponse"
            example:
              error: "Internal Server Error"
  put:
      tags:
        - Projects
      summary: Update Project by Project ID
      description: Update project metadata (name and description)
      operationId: updateProject
      parameters:
        - name: project_id
          in: path
          required: true
          description: Unique project identifier (UUID format)
          schema:
            type: string
            format: uuid
          example: "339cf69c-f60a-4c6c-8789-70e2664fd0a0"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "../schemas/project-schemas.yaml#/UpdateProjectRequest"
            examples:
              with_description:
                summary: Update with description
                value:
                  project_name: "Updated Project Name"
                  project_description: "Updated description (OPTIONAL)"
                  icon: "user (OPTIONAL)"
                  color: "teal (OPTIONAL)"
              without_description:
                summary: Update without description
                value:
                  project_name: "Updated Project Name"
      responses:
        "200":
          description: Project updated successfully
          content:
            application/json:
              schema:
                $ref: "../schemas/project-schemas.yaml#/ProjectUpdateResponse"
              examples:
                with_changes:
                  summary: Update with field changes
                  value:
                    message: "Successfully updated finance project"
                    project_id: "339cf69c-f60a-4c6c-8789-70e2664fd0a0"
                    updated_fields:
                      project_name: "Updated Project Name"
                      project_description: "Updated description"
                      project_icon: "chart"
                      project_color: "teal"
                    updated_at: "2025-12-15T03:53:52.632245"
                no_changes:
                  summary: Update with no field changes
                  value:
                    message: "Successfully updated finance project"
                    project_id: "339cf69c-f60a-4c6c-8789-70e2664fd0a0"
                    updated_fields: {}
                    updated_at: "2025-12-15T03:53:52.632245"
        "400":
          description: Bad request - validation errors or duplicate project name
          content:
            application/json:
              schema:
                $ref: "../schemas/common-schemas.yaml#/ErrorResponse"
              examples:
                invalid_project_id:
                  summary: Invalid project_id format (not UUID)
                  value:
                    error: "Invalid project_id format"
                missing_json:
                  summary: Missing JSON body
                  value:
                    error: "Missing JSON body"
                missing_project_name:
                  summary: Missing project_name field
                  value:
                    error: "Missing project name"
                invalid_project_name_type:
                  summary: Invalid project_name type (not string)
                  value:
                    error: "Invalid project_name format"
                project_name_too_short:
                  summary: Project name less than 3 characters
                  value:
                    error: "Project name must be more than 3 characters"
                project_name_too_long:
                  summary: Project name exceeds 100 characters
                  value:
                    error: "Project name must be less than or equal to 100 characters"
                invalid_description_type:
                  summary: Invalid project_description type (not string)
                  value:
                    error: "Invalid project_description format"
                duplicate_project_name:
                  summary: Project name already exists for this user
                  value:
                    error: "Project Name Already Exists Please Choose Another Name"
        "404":
          description: Project not found
          content:
            application/json:
              schema:
                $ref: "../schemas/common-schemas.yaml#/ErrorResponse"
              example:
                error: "Finance Project Not Found"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "../schemas/common-schemas.yaml#/ErrorResponse"
              example:
                error: "Internal Server Error"
                
  delete:
    tags:
      - Projects
    summary: Delete Project by Project ID
    description: Permanently delete a project and all associated data
    operationId: deleteProject
    parameters:
      - name: project_id
        in: path
        required: true
        description: Unique project identifier (UUID format)
        schema:
          type: string
          format: uuid
        example: "339cf69c-f60a-4c6c-8789-70e2664fd0a0"
    responses:
      "200":
        description: Project deleted successfully
        content:
          application/json:
            schema:
              $ref: "../schemas/project-schemas.yaml#/DeleteProjectResponse"
            example:
              message: "Successfully deleted finance project"
              project_id: "339cf69c-f60a-4c6c-8789-70e2664fd0a0"
              project_name: "First Project"
      "400":
        description: Invalid project_id format (not a valid UUID)
        content:
          application/json:
            schema:
              $ref: "../schemas/common-schemas.yaml#/ErrorResponse"
            example:
              error: "Invalid project_id format"
      "404":
        description: Project not found or user not authorized
        content:
          application/json:
            schema:
              $ref: "../schemas/common-schemas.yaml#/ErrorResponse"
            example:
              error: "Finance Project Not Found"
      "500":
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: "../schemas/common-schemas.yaml#/ErrorResponse"
            example:
              error: "Internal Server Error"